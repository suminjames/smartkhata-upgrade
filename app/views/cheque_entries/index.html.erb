<% provide(:section_title, "Cheque Entries") %>
<%= link_to 'New Cheque Entries', new_cheque_entry_path %> |
<%= link_to 'Cheques Issued', cheque_entries_path(type: 'company') %> |
<%= link_to 'Cheques Received', cheque_entries_path(type: 'client') %> |
<%= link_to 'Available Cheques', cheque_entries_path %>
<table class="table">
  <thead>
  <tr>
    <th>Cheque Number</th>
    <th>Bank Name</th>
    <th>Account Number</th>
    <th>Client Name</th>
    <th>Cheque Date</th>
    <th>Printed</th>
    <th>Status</th>
  </tr>
  </thead>

  <tbody>
  <% @cheque_entries.each do |cheque_entry| %>
      <tr>
        <td><%= cheque_entry.cheque_number %></td>
        <td><%= cheque_entry.bank_account.bank.name %></td>
        <td><%= cheque_entry.bank_account.account_number %></td>
        <td><%= cheque_entry.beneficiary_name if cheque_entry.beneficiary_name.present? %></td>
        <td><%= cheque_entry.cheque_date if cheque_entry.cheque_date.present? %></td>
        <td><%= cheque_entry.printed? ? "Y" : "N" %></td>
        <td><%= cheque_entry.status.titleize %></td>
        <td><%= link_to 'Show', cheque_entry if !cheque_entry.unassigned? %>
          <% if cheque_entry.additional_bank_id.present? %>
              | <%= link_to 'Bounce', bounce_cheque_entries_path(id: cheque_entry.id) if !cheque_entry.bounced? %>
              <%= link_to 'Represent', represent_cheque_entries_path(id: cheque_entry.id) if cheque_entry.bounced? %>
          <% end %>
        </td>
      </tr>
  <% end %>
  </tbody>
</table>

<br>