<% provide(:section_title, "New #{Voucher.voucher_types.key(@voucher_type).titleize} Voucher") %>
<%= @list %>

<%= render 'form',
           voucher: @voucher,
           voucher_type: @voucher_type,
           client_account_id: @client_account_id,
           bill_id: @bill_id,
           is_payment_receipt: @is_payment_receipt,
           ledger_list_financial: @ledger_list_financial,
           ledger_list_available: @ledger_list_available,
           default_ledger_id: @default_ledger_id,
           clear_ledger: @clear_ledger,
           bill_ids: @bill_ids,
           vendor_account_list: @vendor_account_list,
           client_ledger_list: @client_ledger_list,
           payment_mode: @payment_mode,
           voucher_settlement_type: @voucher_settlement_type,
           group_leader_ledger_id: @group_leader_ledger_id,
           vendor_account_id: @vendor_account_id

%>
<br>
<!--
TODO(sarojk): Find a better way for 'Back' linking. The following is not the best solution.
  -Linking to request.referrer is more intuitive option rather than pointing to vouchers_path(which lists pending vouchers)
  -However, is unintuitive at times. . For instance: while vouchers/new page is triggered by clicking one of the many new vouchers(jvr, receipt, payment) links, the back button takes to vouchers_path(which lists pending voucher). Also, if page is refreshed for a vouchers#new page which was triggered from links (like clear ledger) other than new voucher links, the request.referrer is absent.
-->
<%= link_to 'Back', (request.referrer || vouchers_path) %>
